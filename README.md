# å¾®ä¿¡æ¶ˆæ¯å¼¹çª— / WeChat Notification Popup  
**ä¸­æ–‡ç‰ˆ | [English Version](#wechat-notification-popup-for-windows)**

---

## å¾®ä¿¡æ¶ˆæ¯å¼¹çª— - Windowså¾®ä¿¡æ¶ˆæ¯æé†’å·¥å…· (Beta)

![GitHub release](https://img.shields.io/badge/version-Beta-yellow?style=flat-square)
![License](https://img.shields.io/badge/license-MIT-blue?style=flat-square)
![Python](https://img.shields.io/badge/python-3.7%2B-blue?style=flat-square)
![Platform](https://img.shields.io/badge/platform-Windows%2010%2B-blue?style=flat-square)

**å¾®ä¿¡æ¶ˆæ¯å¼¹çª—** æ˜¯ä¸€ä¸ªåŸºäºPythonå¼€å‘çš„Windowså¾®ä¿¡æ¶ˆæ¯æé†’å·¥å…·ï¼Œè§£å†³äº†å®˜æ–¹å®¢æˆ·ç«¯åœ¨åå°è¿è¡Œæ—¶æ— æ³•æ˜¾ç¤ºæ–°æ¶ˆæ¯å¼¹çª—çš„é—®é¢˜ã€‚æœ¬å·¥å…·æä¾›ç¾è§‚çš„å¼¹çª—é€šçŸ¥ï¼ŒåŒ…å«å¾®ä¿¡å›¾æ ‡ã€å¥½å‹æ˜µç§°å’Œæ¶ˆæ¯å†…å®¹æ˜¾ç¤ºã€‚

> **æ³¨æ„**: å½“å‰ä¸ºBetaç‰ˆæœ¬ï¼Œå­˜åœ¨å·²çŸ¥é™åˆ¶ã€‚æ¬¢è¿å¼€å‘è€…è´¡çŒ®ä»£ç è§£å†³åå°æ£€æµ‹é—®é¢˜ï¼

### ğŸŒŸ åŠŸèƒ½äº®ç‚¹
#### ğŸªŸ æ¶ˆæ¯å¼¹çª—æé†’
- åœ¨å±å¹•å·¦ä¸Šè§’æ˜¾ç¤ºæ¶ˆæ¯å¼¹çª—ï¼ˆåç»­ç‰ˆæœ¬å°†æ”¯æŒä½ç½®è‡ªå®šä¹‰ï¼‰
- å®Œæ•´æ˜¾ç¤ºå¥½å‹æ˜µç§°å’Œæ¶ˆæ¯å†…å®¹
- è‡ªåŠ¨æ˜¾ç¤ºå½“å‰æ—¶é—´æ ‡è®°

#### ğŸ–¼ï¸ å¾®ä¿¡å›¾æ ‡æ”¯æŒ
- å†…ç½®å¾®ä¿¡åº”ç”¨å›¾æ ‡ï¼ˆWCLogo.pngï¼‰
- è‡ªåŠ¨é€‚åº”ä¸åŒåˆ†è¾¨ç‡
- å›¾æ ‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºç»¿è‰²æ›¿ä»£å›¾æ ‡

  <img width="564" height="189" alt="å¾®ä¿¡æ–°æ¶ˆæ¯å¼¹çª—" src="https://github.com/user-attachments/assets/b5e14899-fa50-44f7-a7de-0feedf33f974" />

#### ğŸ› ï¸ åå°ç›‘æ§
- å®æ—¶ç›‘æ§å¾®ä¿¡ä¼šè¯åˆ—è¡¨
- è‡ªåŠ¨è¯†åˆ«æ–°æ¶ˆæ¯å¹¶è§¦å‘å¼¹çª—
- æ”¯æŒå¤šæ¶ˆæ¯æ‰¹é‡å¤„ç†

#### ğŸ“Œ ç³»ç»Ÿæ‰˜ç›˜é›†æˆ
- åå°è¿è¡Œæ—¶åœ¨ç³»ç»Ÿæ‰˜ç›˜æ˜¾ç¤ºå¾®ä¿¡å›¾æ ‡
- æä¾›ä¾¿æ·çš„é€€å‡ºé€‰é¡¹
- çŠ¶æ€æç¤ºåŠŸèƒ½

### âš ï¸ å·²çŸ¥é—®é¢˜ (Betaç‰ˆæœ¬é™åˆ¶)
1. **åå°æ£€æµ‹é™åˆ¶**ï¼š
   - å½“å‰ç‰ˆæœ¬ä»…åœ¨å¾®ä¿¡çª—å£å¤„äºæ‰“å¼€çŠ¶æ€æ—¶æ‰èƒ½æ£€æµ‹æ–°æ¶ˆæ¯
   - å½“å¾®ä¿¡æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜æˆ–åå°è¿è¡Œæ—¶ï¼Œæ— æ³•æ£€æµ‹æ–°æ¶ˆæ¯
   - *å¯»æ±‚å¸®åŠ©ï¼šæ¬¢è¿æœ‰å¤§ä½¬æŒ‡ç‚¹å¦‚ä½•è§£å†³åå°æ¶ˆæ¯æ£€æµ‹é—®é¢˜ï¼*

2. **ä½ç½®å›ºå®š**ï¼š
   - å¼¹çª—ç›®å‰å›ºå®šåœ¨å±å¹•å·¦ä¸Šè§’ï¼ˆåç»­ç‰ˆæœ¬å°†æ”¯æŒä½ç½®è‡ªå®šä¹‰ï¼‰

3. **ä¾èµ–è¦æ±‚**ï¼š
   - éœ€è¦å®Œæ•´å®‰è£…Pythonç¯å¢ƒåŠä¾èµ–åº“
   - éœ€è¦æ­£ç¡®é…ç½®å¾®ä¿¡å®‰è£…è·¯å¾„

### ğŸ“¦ å®‰è£…ä¸ä½¿ç”¨
#### ç³»ç»Ÿè¦æ±‚
- Windows 10 æˆ–æ›´é«˜ç‰ˆæœ¬
- Python 3.7+
- å·²å®‰è£…å®˜æ–¹å¾®ä¿¡æ¡Œé¢ç‰ˆ

#### å®‰è£…æ­¥éª¤
1. å…‹éš†æœ¬ä»“åº“æˆ–ä¸‹è½½æºä»£ç ï¼š
   ```bash
   git clone https://github.com/mirageå½¬/wechat-notification.git
   cd wechat-notification
   ```

2. å®‰è£…ä¾èµ–åº“ï¼š
   ```bash
   pip install -r requirements.txt
   ```

3. é…ç½®å¾®ä¿¡å®‰è£…è·¯å¾„ï¼š
   - æ‰“å¼€ `wechat_notifier.py` æ–‡ä»¶
   - ä¿®æ”¹ `self.wechat_install_path` ä¸ºä½ çš„å¾®ä¿¡å®‰è£…è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š`r"D:\Program Files\WeChat"`ï¼‰

4. è¿è¡Œç¨‹åºï¼š
   ```bash
   python wechat_notifier.py
   ```

#### ä½¿ç”¨è¯´æ˜
1. ç¡®ä¿å¾®ä¿¡å·²ç™»å½•å¹¶ä¿æŒçª—å£æ‰“å¼€ï¼ˆéæœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼‰
2. ç¨‹åºå¯åŠ¨åï¼Œå°†åœ¨ç³»ç»Ÿæ‰˜ç›˜æ˜¾ç¤ºå¾®ä¿¡å›¾æ ‡
3. æ”¶åˆ°æ–°æ¶ˆæ¯æ—¶ï¼Œå±å¹•å·¦ä¸Šè§’å°†æ˜¾ç¤ºå¼¹çª—é€šçŸ¥
4. å³é”®ç‚¹å‡»ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡é€‰æ‹©"é€€å‡º"å¯å…³é—­ç¨‹åº

### ğŸ§© æŠ€æœ¯ç»†èŠ‚
#### å®ç°åŸç†
```mermaid
graph TD
    A[å¾®ä¿¡çª—å£ç›‘æ§] --> B{æ£€æµ‹ä¼šè¯åˆ—è¡¨}
    B -->|å‘ç°æ–°æ¶ˆæ¯| C[ç‚¹å‡»ä¼šè¯]
    C --> D{è·å–æ¶ˆæ¯åˆ—è¡¨}
    D -->|è¯»å–æœ€æ–°æ¶ˆæ¯| E[åˆ›å»ºå¼¹çª—]
    E --> F[æ˜¾ç¤ºé€šçŸ¥]
    B -->|æ— æ–°æ¶ˆæ¯| G[ç­‰å¾…2ç§’]
    G --> B
```

#### æ ¸å¿ƒä¾èµ–
- `uiautomation` - Windows UIè‡ªåŠ¨åŒ–æ§åˆ¶
- `pystray` - ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡æ”¯æŒ
- `Pillow` - å›¾åƒå¤„ç†
- `tkinter` - å›¾å½¢ç•Œé¢å¼¹çª—

#### æ–‡ä»¶ç»“æ„
```
wechat-notification/
â”œâ”€â”€ wechat_notifier.py   # ä¸»ç¨‹åº
â”œâ”€â”€ WCLogo.png           # å¾®ä¿¡å›¾æ ‡
â”œâ”€â”€ requirements.txt     # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ README.md            # è¯´æ˜æ–‡æ¡£
â””â”€â”€ LICENSE              # è®¸å¯è¯æ–‡ä»¶
```

### â“ å¸¸è§é—®é¢˜
#### Q: ä¸ºä»€ä¹ˆæ”¶ä¸åˆ°æ¶ˆæ¯æé†’ï¼Ÿ
A: è¯·æ£€æŸ¥ï¼š
1. å¾®ä¿¡çª—å£æ˜¯å¦å¤„äºæ‰“å¼€çŠ¶æ€ï¼ˆéæœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼‰
2. é…ç½®çš„å¾®ä¿¡å®‰è£…è·¯å¾„æ˜¯å¦æ­£ç¡®
3. æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯è¾“å‡º

#### Q: å¼¹çª—ä½ç½®å¯ä»¥è°ƒæ•´å—ï¼Ÿ
A: å½“å‰ç‰ˆæœ¬å›ºå®šåœ¨å·¦ä¸Šè§’ï¼Œåç»­ç‰ˆæœ¬å°†æ”¯æŒè‡ªå®šä¹‰ä½ç½®ã€‚å¼€å‘è€…å¯è‡ªè¡Œä¿®æ”¹ä»£ç ä¸­çš„å¼¹çª—ä½ç½®ï¼ˆ`create_popup`å‡½æ•°å†…çš„`x`å’Œ`y`åæ ‡ï¼‰ã€‚

#### Q: å¦‚ä½•å®ç°åå°è¿è¡Œï¼Ÿ
A: å½“å‰ç‰ˆæœ¬æ— æ³•åœ¨å¾®ä¿¡åå°è¿è¡Œæ—¶æ£€æµ‹æ¶ˆæ¯ï¼Œè¿™æ˜¯å·²çŸ¥é™åˆ¶ã€‚æ¬¢è¿è´¡çŒ®ä»£ç è§£å†³æ­¤é—®é¢˜ï¼

#### Q: æ˜¯å¦æ”¯æŒä¼ä¸šå¾®ä¿¡ï¼Ÿ
A: å½“å‰ä»…æ”¯æŒä¸ªäººå¾®ä¿¡ã€‚

### ğŸ¤ å¯»æ±‚è´¡çŒ®
æˆ‘ä»¬ç‰¹åˆ«éœ€è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š
- **åå°æ¶ˆæ¯æ£€æµ‹**ï¼šå½“å¾®ä¿¡æœ€å°åŒ–åˆ°æ‰˜ç›˜æˆ–åå°æ—¶å¦‚ä½•æ£€æµ‹æ–°æ¶ˆæ¯ï¼Ÿ
- **æ›´å¯é çš„æ¶ˆæ¯æ•è·**ï¼šæ”¹è¿›æ¶ˆæ¯æ•è·æœºåˆ¶ï¼Œé¿å…æ¼æ¶ˆæ¯
- **å¼¹çª—ä½ç½®è‡ªå®šä¹‰**ï¼šå®ç°ç”¨æˆ·å¯é…ç½®çš„å¼¹çª—ä½ç½®

æ¬¢è¿æäº¤Pull Requestæˆ–Issueè®¨è®ºè§£å†³æ–¹æ¡ˆï¼

### ğŸ§ª å¼€å‘æŒ‡å—
1. å®‰è£…å¼€å‘ä¾èµ–ï¼š
   ```bash
   pip install -r requirements.txt
   ```

2. ä»£ç ä¸»è¦ç»“æ„ï¼š
   - `WeChatNotifier` ç±»ï¼šä¸»ç¨‹åºé€»è¾‘
   - `get_wxid()`ï¼šè·å–å½“å‰å¾®ä¿¡ç”¨æˆ·ID
   - `get_avatar_path()`ï¼šè·å–è”ç³»äººå¤´åƒ
   - `create_popup()`ï¼šåˆ›å»ºæ¶ˆæ¯å¼¹çª—
   - `monitor_wechat()`ï¼šå¾®ä¿¡æ¶ˆæ¯ç›‘æ§å¾ªç¯

3. è°ƒè¯•æç¤ºï¼š
   - å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡º
   - æ£€æŸ¥å¾®ä¿¡ä¼šè¯åˆ—è¡¨çš„UIç»“æ„å˜åŒ–
   - æµ‹è¯•ä¸åŒå¾®ä¿¡ç‰ˆæœ¬å…¼å®¹æ€§

### ğŸ“œ è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

### ğŸ“ è”ç³»ä½œè€…
- å¼€å‘è€…: mirageå½¬
- é‚®ç®±: [ä½ çš„é‚®ç®±]
- é¡¹ç›®åœ°å€: [GitHubä»“åº“URL]

---

**å¾®ä¿¡æ¶ˆæ¯å¼¹çª—** Â© 2023 mirageå½¬ã€‚å¼€æºé¡¹ç›®ï¼Œæ¬¢è¿è´¡çŒ®ï¼

---

<a id="wechat-notification-popup-for-windows"></a>
## WeChat Notification Popup for Windows

![GitHub release](https://img.shields.io/badge/version-Beta-yellow?style=flat-square)
![License](https://img.shields.io/badge/license-MIT-blue?style=flat-square)
![Python](https://img.shields.io/badge/python-3.7%2B-blue?style=flat-square)
![Platform](https://img.shields.io/badge/platform-Windows%2010%2B-blue?style=flat-square)

**WeChat Notification Popup** is a Python-based message notification tool for Windows WeChat that solves the problem of missing message popups when the official client runs in the background. This tool provides elegant popup notifications containing the WeChat icon, contact nickname, and message content.

> **Note**: This is currently a Beta version with known limitations. Developer contributions are welcome to solve the background detection issue!

### ğŸŒŸ Key Features
#### ğŸªŸ Message Popup Notification
- Displays message popups in the top-left corner of the screen (future versions will support custom positioning)
- Shows complete contact nickname and message content
- Automatically displays current timestamp

#### ğŸ–¼ï¸ WeChat Icon Support
- Built-in WeChat application icon (WCLogo.png)
- Automatically adapts to different screen resolutions
- Displays green placeholder icon if loading fails

#### ğŸ› ï¸ Background Monitoring
- Real-time monitoring of WeChat conversation list
- Automatically detects new messages and triggers popups
- Supports batch processing of multiple messages

#### ğŸ“Œ System Tray Integration
- Displays WeChat icon in system tray when running in background
- Provides convenient exit option
- Status notification functionality

### âš ï¸ Known Issues (Beta Limitations)
1. **Background Detection Limitations**:
   - Current version only detects new messages when WeChat window is open
   - Cannot detect new messages when WeChat is minimized to system tray or running in background
   - *Help Wanted: Contributions welcome to solve background message detection!*

2. **Fixed Position**:
   - Popups currently fixed at top-left corner (future versions will support custom positioning)

3. **Dependency Requirements**:
   - Requires complete Python environment and dependencies
   - Requires correct configuration of WeChat installation path

### ğŸ“¦ Installation & Usage
#### System Requirements
- Windows 10 or higher
- Python 3.7+
- Official WeChat Desktop version installed

#### Installation Steps
1. Clone repository or download source code:
   ```bash
   git clone https://github.com/mirageå½¬/wechat-notification.git
   cd wechat-notification
   ```

2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

3. Configure WeChat installation path:
   - Open `wechat_notifier.py` file
   - Modify `self.wechat_install_path` to your WeChat installation path (e.g., `r"D:\Program Files\WeChat"`)

4. Run the program:
   ```bash
   python wechat_notifier.py
   ```

#### Usage Instructions
1. Ensure WeChat is logged in and window is open (not minimized to tray)
2. After program starts, WeChat icon will appear in system tray
3. When new message arrives, popup notification will appear at top-left of screen
4. Right-click system tray icon and select "Exit" to close program

### ğŸ§© Technical Details
#### Implementation Principle
```mermaid
graph TD
    A[WeChat Window Monitoring] --> B{Detect Conversation List}
    B -->|New Messages Found| C[Click Conversation]
    C --> D{Get Message List}
    D -->|Read Latest Message| E[Create Popup]
    E --> F[Display Notification]
    B -->|No New Messages| G[Wait 2 Seconds]
    G --> B
```

#### Core Dependencies
- `uiautomation` - Windows UI automation control
- `pystray` - System tray icon support
- `Pillow` - Image processing
- `tkinter` - GUI popup interface

#### File Structure
```
wechat-notification/
â”œâ”€â”€ wechat_notifier.py   # Main program
â”œâ”€â”€ WCLogo.png           # WeChat icon
â”œâ”€â”€ requirements.txt     # Dependency list
â”œâ”€â”€ README.md            # Documentation
â””â”€â”€ LICENSE              # License file
```

### â“ Frequently Asked Questions
#### Q: Why am I not receiving message notifications?
A: Please check:
1. Is the WeChat window open (not minimized to tray)?
2. Is the WeChat installation path correctly configured?
3. Are there any error outputs in the console?

#### Q: Can the popup position be adjusted?
A: Current version is fixed at top-left corner. Future versions will support custom positioning. Developers can modify the popup position in the code (x and y coordinates in `create_popup` function).

#### Q: How to enable background operation?
A: Current version cannot detect messages when WeChat runs in background. This is a known limitation. Contributions welcome to solve this issue!

#### Q: Does it support WeChat Work (Enterprise WeChat)?
A: Currently only supports personal WeChat.

### ğŸ¤ Seeking Contributions
We particularly need help with:
- **Background Message Detection**: How to detect new messages when WeChat is minimized to tray or running in background?
- **More Reliable Message Capture**: Improve message capture mechanism to prevent missed messages
- **Custom Popup Positioning**: Implement user-configurable popup positions

Welcome to submit Pull Requests or discuss solutions in Issues!

### ğŸ§ª Development Guide
1. Install development dependencies:
   ```bash
   pip install -r requirements.txt
   ```

2. Code structure highlights:
   - `WeChatNotifier` class: Main program logic
   - `get_wxid()`: Get current WeChat user ID
   - `get_avatar_path()`: Get contact avatar
   - `create_popup()`: Create message popup
   - `monitor_wechat()`: WeChat message monitoring loop

3. Debugging tips:
   - Enable detailed log output
   - Check for UI structure changes in WeChat conversation list
   - Test compatibility with different WeChat versions

### ğŸ“œ License
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

### ğŸ“ Contact Author
- Developer: mirageå½¬
- Email: [Your Email]
- Project URL: [GitHub Repository URL]

---

**WeChat Notification Popup** Â© 2023 mirageå½¬. Open source project, contributions welcome!
